{"version":3,"sources":["_constants/routing.constants.js","_constants/device.constants.js","_actions/routing.actions.js","_services/device.services.js","_services/auth.services.js","_actions/device.actions.js","DeviceDetails.js","DeviceList.js","SpaceOccupier.js","Drawer.js","App.js","serviceWorker.js","_helpers/history.js","_reducers/routing.reducers.js","_reducers/auth.reducers.js","_reducers/device.reducers.js","_reducers/index.js","_helpers/tokenMiddleware.js","_helpers/store.js","index.js"],"names":["routingConstants","SET_SPACE_OCCUPIER","deviceConstants","GET_DEVICES_REQUEST","GET_DEVICES_SUCCESS","GET_DEVICES_FAILURE","routingActions","setSpaceOccupier","occupier","selectedDevice","dispatch","type","success","deviceServices","getDevices","accessToken","requestOptions","method","mode","headers","body","fetch","hostname","then","handleResponse","response","json","ok","status","console","log","localStorage","removeItem","window","location","reload","error","message","statusText","Promise","reject","authServices","loginEmail","email","password","cache","credentials","JSON","stringify","getAccessToken","refreshToken","deviceActions","refreshToken1","substring","refToken","length","accessToken1","accToken","devices","failure","toString","CssTextField","withStyles","root","color","borderBottomColor","borderColor","TextField","createData","port","createMuiTheme","palette","primary","light","main","dark","contrastText","DeviceDetails","getDeviceTunnels","row","name","props","rootClasses","classNames","headingClasses","inputClasses","classes","this","className","closeIcon","onClick","closeDetails","id","label","textField","margin","variant","InputProps","input","Button","button","Table","table","border","TableHead","TableRow","TableCell","align","TableBody","find","tunnels","map","key","sourcePort","destinationPort","React","Component","connect","state","routing","device","theme","marginLeft","spacing","marginRight","maxHeight","marginTop","position","top","right","withTheme","calories","fat","DeviceList","editDevice","setOccupier","Paper","receivedDevices","component","scope","deviceID","auth","width","overflowX","background","SpaceOccupier","spaceOccupier","useStyles","makeStyles","display","drawer","breakpoints","up","flexShrink","appBar","menuButton","toolbar","mixins","drawerPaper","content","flexGrow","padding","container","useTheme","useState","mobileOpen","setMobileOpen","handleDrawerToggle","src","alt","Divider","List","ListItem","ListItemText","CssBaseline","AppBar","Toolbar","IconButton","aria-label","edge","Typography","noWrap","Hidden","smUp","implementation","Drawer","anchor","direction","open","onClose","paper","ModalProps","keepMounted","xsDown","App","Boolean","match","createBrowserHistory","initialState","rootReducer","combineReducers","action","NONE","REFRESH_REQUEST","REFRESH_SUCCESS","REFRESH_FAILURE","getItem","parse","refresh_token","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","next","user","access_token","userObj","allCommunities","setItem","token_expiration","refresh_expiration","a","Date","r","now","secondary","ReactDOM","render","MuiThemeProvider","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ycAAaA,EAAmB,CAC5BC,mBAAoB,sBCDXC,EAAkB,CAC3BC,oBAAqB,sBACrBC,oBAAqB,sBACrBC,oBAAqB,uBCDZC,EAAiB,CAC1BC,iBAGJ,SAA0BC,EAAUC,GAChC,OAAO,SAAAC,GACHA,EAEJ,SAAiBF,EAAUC,GAAkB,MAAO,CAAEE,KAAMX,EAAiBC,mBAAoBO,WAAUC,kBAF9FG,CAAQJ,EAAUC,OCR5B,IAAMI,EAAiB,CAC1BC,WAKJ,SAAoBC,GAChB,IAAMC,EAAiB,CACnBC,OAAQ,MACRC,KAAM,OACNC,QAAS,CACL,cAAiBJ,EACjB,eAAgB,kCAChB,8BAA+B,KAEnCK,KAAM,MAGV,OAAOC,MAAM,UAAD,OAAWC,EAAX,eAAkCN,GACzCO,KAAKC,KAfRF,EAAW,qBAkBjB,SAASE,EAAeC,GACpB,OAAOA,EAASC,OAAOH,MAAK,SAAAG,GACxB,IAAKD,EAASE,GAAI,CACU,MAApBF,EAASG,SACTC,QAAQC,IAAI,OACZC,aAAaC,WAAW,QACxBC,OAAOC,SAASC,QAAO,IAG3B,IAAMC,EAASV,GAAQA,EAAKW,SAAYZ,EAASa,WACjD,OAAOC,QAAQC,OAAOJ,GAE1B,OAAOV,KClCR,IAAMe,EAAe,CACxBC,WAMJ,SAAoBC,EAAOC,GACvB,IAAM5B,EAAiB,CACnBC,OAAQ,OACRC,KAAM,OACN2B,MAAO,WACPC,YAAa,OACb3B,QAAS,CACL,eAAgB,mCAEpBC,KAAM2B,KAAKC,UAAU,CACjB,MAASL,EACT,SAAYC,KAIpB,OAAOvB,MAAM,UAAD,OAAWC,EAAX,eAAkCN,GACzCO,KAAKC,IArBVyB,eAwBJ,SAAwBC,GACpB,IAAMlC,EAAiB,CACnBC,OAAQ,OACRC,KAAM,OACN2B,MAAO,WACPC,YAAa,OACb3B,QAAS,CACL,eAAgB,mCAEpBC,KAAM2B,KAAKC,UAAU,CACjB,aAAgBE,KAIxB,OAAO7B,MAAM,UAAD,OAAWC,EAAX,wBAA2CN,GAClDO,KAAKC,KApCRF,EAAW,qBAuCjB,SAASE,EAAeC,GACpB,OAAOA,EAASC,OAAOH,MAAK,SAAAG,GACxB,IAAKD,EAASE,GAAI,CACU,MAApBF,EAASG,SACTC,QAAQC,IAAI,OACZC,aAAaC,WAAW,QACxBC,OAAOC,SAASC,QAAO,IAG3B,IAAMC,EAASV,GAAQA,EAAKW,SAAYZ,EAASa,WACjD,OAAOC,QAAQC,OAAOJ,GAE1B,OAAOV,KCrDR,IAAMyB,EAAgB,CACzBrC,WAGJ,WACI,OAAO,SAAAJ,GACHA,EA6BwB,CAAEC,KAAMT,EAAgBC,sBA5BhDsC,EAAaC,WAAW,2BAA4B,YAC/CnB,MACG,SAAA2B,GAEI,IAAIE,GADJF,EAAeA,EAAab,SACKgB,UAAU,GACvCC,EAAWF,EAAcC,UAAU,EAAGD,EAAcG,OAAS,GACjEd,EAAaQ,eAAeK,GACvB/B,MACG,SAAAR,GAEI,IAAIyC,GADJzC,EAAcA,EAAYsB,SACKgB,UAAU,GACrCI,EAAWD,EAAaH,UAAU,EAAGG,EAAaD,OAAS,GAC/D1C,EAAeC,WAAW2C,GACzBlC,MACG,SAAAmC,GACIhD,EAcpC,SAAiBgD,GAAW,MAAO,CAAE/C,KAAMT,EAAgBE,oBAAqBsD,WAdnC9C,CAAQ8C,EAAO,aAE5B,SAAAtB,GACI1B,EAYpC,SAAiB0B,GAAS,MAAO,CAAEzB,KAAMT,EAAgBG,oBAAqB+B,SAZjCuB,CAAQvB,EAAMwB,yBCb/D,IA0BMC,EAAeC,YAAW,CAC5BC,KAAM,CACJ,sBAAuB,CACrBC,MAAO,WAET,UAAW,CACTA,MAAO,WAET,8BAA+B,CAC7BC,kBAAmB,WAErB,2BAA4B,CAC1B,aAAc,CACZC,YAAa,WAEf,mBAAoB,CAClBA,YAAa,WAEf,yBAA0B,CACxBA,YAAa,cAnBFJ,CAuBhBK,KAEL,SAASC,EAAWC,EAAMzC,GACtB,MAAO,CAACyC,OAAMzC,UAIdwC,EAAW,OAAQ,QACnBA,EAAW,OAAQ,OAIPE,YAAe,CAC3BC,QAAS,CACLC,QAAS,CACLC,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,aAAc,cAZxB,IAiBIC,G,2MAEJC,iBAAmB,SAACC,GAClB,OAAOA,EAAIC,OAAS,EAAKC,MAAMxE,gB,wEAG3B,IAAIyE,EAAcC,IAAW,CACzB,WAAa,IAGbC,EAAiBD,IAAW,CAC5B,UAAY,EACZ,YAAc,IAGdE,EAAeF,IAAW,CAC1B,aAAe,EACf,cAAgB,EAChB,gBAAkB,IAGfG,EAAWC,KAAKN,MAAhBK,QACP,OACI,yBAAKE,UAAWL,IAAWG,EAAQvB,KAAMmB,IACrC,kBAAC,IAAD,CAAWM,UAAWF,EAAQG,UAAWC,QAASH,KAAKN,MAAMU,eAC7D,wBAAIH,UAAWL,IAAW,UAAWC,EAAgB,mBAChDG,KAAKN,MAAMxE,gBAEhB,yBAAK+E,UAAWH,GAER,kBAACxB,EAAD,CACI+B,GAAG,aACHC,MAAM,OACNL,UAAWF,EAAQQ,UACnBnF,KAAK,QACLqE,KAAK,aACLe,OAAO,SACPC,QAAQ,WACRC,WAAY,CACRT,UAAWF,EAAQY,SAG/B,kBAACC,EAAA,EAAD,CAAQH,QAAQ,YAAYR,UAAWF,EAAQc,QAA/C,SAIJ,kBAACC,EAAA,EAAD,CAAOb,UAAWF,EAAQgB,MAAOC,OAAO,KACpC,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,KAAW,gDACX,kBAACA,EAAA,EAAD,CAAWC,MAAM,SAAQ,uDAG7B,kBAACC,EAAA,EAAD,KACKrB,KAAKN,MAAMvB,QAAQmD,KAAKtB,KAAKT,kBAAkBgC,QAAQC,KAAI,SAAAhC,GAAG,OAC/D,kBAAC0B,EAAA,EAAD,CAAUO,IAAKjC,EAAIC,MACf,kBAAC0B,EAAA,EAAD,CAAWC,MAAM,SAAS5B,EAAIkC,YAC9B,kBAACP,EAAA,EAAD,CAAWC,MAAM,SAAS5B,EAAImC,4B,GAzD9BC,IAAMC,WAuFnBC,gBAfW,SAACC,GAGvB,MAAO,CACH7G,eAHwB6G,EAAMC,QAA1B9G,eAIJiD,QAHgB4D,EAAME,OAAlB9D,YAOiB,SAAChD,GAAD,MAAe,CACxCiF,aAAc,WACVjF,EAASJ,EAAeC,iBAAiB,aAAc,WAIhD8G,CAA6CvD,aA/J7C,SAAA2D,GAAK,MAAK,CACrB3B,UAAW,CACP4B,WAAYD,EAAME,QAAQ,GAC1BC,YAAaH,EAAME,QAAQ,IAE/BvB,OAAQ,CACJL,OAAQ0B,EAAME,QAAQ,GACtBE,UAAW,OACXC,UAAW,QAEb/D,KAAM,CACJwC,OAAQ,4BACRwB,SAAU,WACVD,UAAW,mBAEb5B,MAAM,CACFlC,MAAO,WAEXyB,UAAW,CACTsC,SAAU,WACVC,IAAK,OACLC,MAAO,OACPjE,MAAO,cAyIgE,CAAEkE,WAAW,GAAhCpE,CAAwCe,K,8BCrJpG,SAAST,GAAWY,EAAMmD,EAAUC,GAClC,MAAO,CAAEpD,OAAMmD,WAAUC,OAIzBhE,GAAW,UAAW,aAAa,mBACnCA,GAAW,UAAW,aAAa,mBAFrC,IAKMiE,G,2MAMJC,WAAa,SAACtD,GACZnD,QAAQC,IAAIkD,GACZ,EAAKC,MAAMsD,YAAY,gBAAiBvD,I,mFALxCO,KAAKN,MAAMnE,e,+BAQH,IAAD,OACAwE,EAAWC,KAAKN,MAAhBK,QACP,OACE,kBAACkD,GAAA,EAAD,CAAOhD,UAAWF,EAAQvB,MACvBwB,KAAKN,MAAMwD,gBACZ,kBAACpC,EAAA,EAAD,CAAOb,UAAWF,EAAQgB,MAAOC,OAAO,KACtC,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KAAW,yCACX,kBAACA,EAAA,EAAD,CAAWC,MAAM,SAAQ,8CACzB,kBAACD,EAAA,EAAD,CAAWC,MAAM,SAAQ,8CAG7B,kBAACC,EAAA,EAAD,KACGrB,KAAKN,MAAMvB,QAAQqD,KAAI,SAAAhC,GAAG,OACzB,kBAAC0B,EAAA,EAAD,CAAUO,IAAKjC,EAAIC,MACjB,kBAAC0B,EAAA,EAAD,CAAWgC,UAAU,KAAKC,MAAM,MAAMnD,UAAU,gBAC7CT,EAAIC,KADP,QAEE,kBAAC,KAAD,CAAUQ,UAAU,0BAA0BE,QAAS,kBAAM,EAAK4C,WAAWvD,EAAIC,UAEnF,kBAAC0B,EAAA,EAAD,CAAWC,MAAM,SAAS5B,EAAI6D,UAC9B,kBAAClC,EAAA,EAAD,CAAWC,MAAM,SAAS5B,EAAI+B,QAAQvD,cAK5C,U,GArCe4D,IAAMC,WAmEhBC,gBAnBS,SAACC,GAAW,IAC1BvG,EAAgBuG,EAAMuB,KAAtB9H,YADyB,EAEIuG,EAAME,OAC3C,MAAO,CACLzG,cACA2C,QAL+B,EAEzBA,QAIN+E,gBAN+B,EAEhBA,oBAQQ,SAAC/H,GAAD,MAAe,CACxC6H,YAAa,SAAC/H,EAAUwE,GACpBtE,EAASJ,EAAeC,iBAAiBC,EAAUwE,KAEvDlE,WAAY,SAACC,GACXL,EAASyC,EAAcrC,WAAWC,QAIvBsG,CAA6CvD,aAvF7C,SAAA2D,GAAK,MAAK,CACvB1D,KAAM,CACJ+E,MAAO,OACPhB,UAAWL,EAAME,QAAQ,GACzBoB,UAAW,OACXC,WAAY,iBAEd1C,MAAO,MAgFsE,CAAE4B,WAAW,GAAhCpE,CAAwCuE,KChG9FY,G,iLAEE,MAAgC,eAA7B1D,KAAKN,MAAMiE,cAEN,kBAAC,GAAD,MAG6B,kBAA7B3D,KAAKN,MAAMiE,cAEX,kBAAC,GAAD,WAFH,M,GAPe/B,IAAMC,WAsBnBC,gBAPS,SAACC,GAErB,MAAO,CACL4B,cAFyB5B,EAAMC,QAAzB2B,iBAM4B,KAAzB7B,CAA+B4B,I,kDCHxCE,GAAYC,aAAW,SAAA3B,GAAK,YAAK,CACrC1D,KAAM,CACJsF,QAAS,QAEXC,OAAO,eACJ7B,EAAM8B,YAAYC,GAAG,MAAQ,CAC5BV,MARc,IASdW,WAAY,IAGhBC,QAAM,GACJhC,WAbgB,KAYZ,cAEHD,EAAM8B,YAAYC,GAAG,MAAQ,CAC5BV,MAAM,eAAD,OAfS,IAeT,SAHH,2BAKQ,WALR,GAONa,WAAW,aACT/B,YAAaH,EAAME,QAAQ,IAC1BF,EAAM8B,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAGbO,QAASnC,EAAMoC,OAAOD,QACtBE,YAAa,CACXhB,MA3BgB,KA6BlBiB,QAAS,CACPC,SAAU,EACVC,QAASxC,EAAME,QAAQ,QA+G3B,IAaeN,eAAQ,MANI,SAAC3G,GAAD,MAAe,CACxCiF,aAAc,WACVjF,EAASJ,EAAeC,iBAAiB,aAAc,WAI9C8G,EAxHf,SAA0BpC,GAAQ,IACxBiF,EAAcjF,EAAdiF,UACF5E,EAAU6D,KACV1B,EAAQ0C,cAHiB,EAIKhD,IAAMiD,UAAS,GAJpB,mBAIxBC,EAJwB,KAIZC,EAJY,KAMzBC,EAAqB,WACzBD,GAAeD,IASXf,EACJ,yBAAK9D,UAAU,WACb,yBAAKA,UAAWL,IAAWG,EAAQsE,QAAS,eAAgB,WAAY,SAAU,aAAc,YAC9F,yBAAKY,IAAI,kCAAkCC,IAAI,cAAcjF,UAAU,WACvE,uBAAGA,UAAWL,IAAW,UAAW,YAAa,cAAe,iBAAhE,qBAEF,kBAACuF,GAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACI,6BACE,kBAACC,EAAA,EAAD,CAAUxE,QAAM,EAACY,IAAI,UAAUxB,UAAWL,IAAY,eAAgB,kBAAmBO,QAfvE,WAC1BT,EAAMU,gBACY,IAAf0E,GACHC,GAAeD,KAaL,kBAAC,KAAD,MADF,aAEE,kBAACQ,EAAA,EAAD,CAAcrG,QAAQ,cAG1B,kBAACkG,GAAA,EAAD,MACA,6BACE,kBAACE,EAAA,EAAD,CAAUxE,QAAM,EAACY,IAAI,WAAWxB,UAAWL,IAAY,eAAgB,mBACrE,kBAAC,KAAD,MADF,aAEE,kBAAC0F,EAAA,EAAD,CAAcrG,QAAQ,eAG1B,kBAACkG,GAAA,EAAD,QAKR,OACE,yBAAKlF,UAAWF,EAAQvB,MACtB,kBAAC+G,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CAAQhD,SAAS,QAAQvC,UAAWF,EAAQoE,QAC1C,kBAACsB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACEjH,MAAM,UACNkH,aAAW,cACXC,KAAK,QACLzF,QAAS6E,EACT/E,UAAWF,EAAQqE,YAEnB,kBAAC,IAAD,OAEF,kBAACyB,EAAA,EAAD,CAAYpF,QAAQ,KAAKqF,QAAM,MAKnC,yBAAK7F,UAAWF,EAAQgE,OAAQ4B,aAAW,mBAEzC,kBAACI,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,kBAACC,EAAA,EAAD,CACEvB,UAAWA,EACXlE,QAAQ,YACR0F,OAA4B,QAApBjE,EAAMkE,UAAsB,QAAU,OAC9CC,KAAMvB,EACNwB,QAAStB,EACTjF,QAAS,CACPwG,MAAOxG,EAAQwE,aAEjBiC,WAAY,CACVC,aAAa,IAGd1C,IAGL,kBAACgC,EAAA,EAAD,CAAQW,QAAM,EAACT,eAAe,OAC5B,kBAACC,EAAA,EAAD,CACEnG,QAAS,CACPwG,MAAOxG,EAAQwE,aAEjB9D,QAAQ,YACR4F,MAAI,GAEHtC,KAIP,0BAAM9D,UAAWF,EAAQyE,SACnB,kBAAC,GAAD,WCxIGmC,OAVf,WACE,OACE,yBAAK1G,UAAU,OACb,4BAAQA,UAAU,cAChB,kBAAC,GAAD,SCIY2G,QACW,cAA7BlK,OAAOC,SAASZ,UAEe,UAA7BW,OAAOC,SAASZ,UAEhBW,OAAOC,SAASZ,SAAS8K,MACvB,2D,iBChBiBC,e,wPCAvB,IAAMC,GAAe,CACnBpD,cAAe,aACfzI,eAAgB,M,+NCFlB,IAAM6L,GAAe,CACjBvL,YAAa,8JACb4B,MAAO,oBCFX,IAAM2J,GAAe,CACjB7D,iBAAiB,EACjB/E,QAAS,ICEb,IAMe6I,GANKC,aAAgB,CAClCjF,QHAK,SAAiBD,EAAOmF,GAC7B,GAAqB,qBAAVnF,EACT,OAAOgF,GAET,OAAQG,EAAO9L,MACb,KAAKX,EAAiBC,mBACpB,O,2VAAO,CAAP,GACKqH,EADL,CAEE4B,cAAeuD,EAAOjM,SACtBC,eAAgBgM,EAAOhM,iBAG3B,QACE,OAAO6G,IGZXuB,KFDK,SAAcvB,EAAOmF,GAC1B,GAAqB,qBAAVnF,EACT,OAAOgF,GAET,OAAQG,EAAO9L,MACb,KAAKX,EAAiB0M,KACpB,O,2VAAO,IACFpF,EADL,CAEE4B,cAAeuD,EAAOjM,SACtBC,eAAgBgM,EAAOhM,iBAG3B,QACE,OAAO6G,IEXXE,ODFK,SAAgBF,EAAOmF,GAC5B,GAAqB,qBAAVnF,EACT,OAAOgF,GAET,OAAQG,EAAO9L,MACb,KAAKT,EAAgBC,oBACnB,MAAO,GAGT,KAAKD,EAAgBE,oBACjB,MAAO,CACHsD,QAAS+I,EAAO/I,QAChB+E,iBAAiB,GAGzB,KAAKvI,EAAgBC,oBACjB,MAAO,GAGX,QACE,OAAOmH,ME1BPqF,GAAkB,wBAClBC,GAAkB,wBAClBC,GAAkB,wBAGlB7L,GAAiB,CACnBC,OAAQ,OACRC,KAAM,OACN2B,MAAO,WACPC,YAAa,OACb3B,QAAS,CACL,eAAgB,mCAEpBC,KAAM2B,KAAKC,UAAU,CACjB,WAAc,gBACd,cAAiBjB,aAAa+K,QAAQ,QAAU/J,KAAKgK,MAAMhL,aAAa+K,QAAQ,SAASE,cAAgB,KACzG,UAAa,oCCXrB,IAAMC,GAAmBC,0BAEZC,GAAQC,aACjBb,GACAc,aACIC,KACAL,IDS+B,SAAAE,GAAK,OAAI,SAAAI,GAAI,OAAI,SAAAd,GACpD,GAlByB,yBAkBtBA,EAAO9L,KACNwM,EAAMzM,SAoCc,CAAEC,KAAMgM,KAnC5BtL,MAAM,qDAAsDL,IACvDO,MAAK,SAAAE,GAAQ,OAAIA,EAASC,UAC1BH,MAAK,SAAAiM,GACF,GAAIA,EAAKC,aAAc,CACnB,IAAIC,EAAU3K,KAAKgK,MAAMhL,aAAa+K,QAAQ,SAC9CU,EAAKG,eAAiBD,EAAQC,eAC9B5L,aAAa6L,QAAQ,OAAQ7K,KAAKC,UAAUwK,IAC5CL,EAAMzM,SA6B1B,SAAiB8M,GAAQ,MAAO,CAAE7M,KAAMiM,GAAiBY,QA7BtB5M,CAAQ4M,QAG/B,SAAApL,GACI+K,EAAMzM,SA0BtB,SAAiB0B,GAAS,MAAO,CAAEzB,KAAMkM,GAAiBzK,SA1B3BuB,CAAQvB,EAAMwB,qBAElC,GAAG6I,EAAO9L,QAAUgM,IAAmBC,IAAmBC,IAC7DU,EAAKd,OACF,CACH,IAAMoB,EACN9K,KAAKgK,MAAMhL,aAAa+K,QAAQ,UAChC/J,KAAKgK,MAAMhL,aAAa+K,QAAQ,SAAhC,kBACMgB,EACN/K,KAAKgK,MAAMhL,aAAa+K,QAAQ,UAChC/J,KAAKgK,MAAMhL,aAAa+K,QAAQ,SAAhC,mBACMiB,EAAI,IAAIC,KAAKH,EAAmB,KAChCI,EAAI,IAAID,KAAKF,EAAqB,KAClCI,EAAM,IAAIF,KAChB,GAAID,EAAIG,GAAOA,EAAMD,EACjBd,EAAMzM,SAAS,CAAEC,KA9CA,6BA+Cd,MAAGsN,EAAIC,GAGV,OAAOX,EAAKd,GAFZ1K,aAAaC,WAAW,gB,cE1C9ByF,GAAQnD,YAAe,CACzBC,QAAS,CACP5D,KAAM,QACN6D,QAAS,CACPE,KAAM,WAERyJ,UAAW,CACTzJ,KAAM,cAKd0J,IAASC,OACL,kBAACC,GAAA,EAAD,CAAkB7G,MAAOA,IACrB,kBAAC,IAAD,CAAU0F,MAAOA,IACb,kBAAC,GAAD,QAGRoB,SAASC,eAAe,SRqGtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMpN,MAAK,SAAAqN,GACjCA,EAAaC,iB","file":"static/js/main.0b709039.chunk.js","sourcesContent":["export const routingConstants = {\r\n    SET_SPACE_OCCUPIER: 'SET_SPACE_OCCUPIER',\r\n};","export const deviceConstants = {\r\n    GET_DEVICES_REQUEST: 'GET_DEVICES_REQUEST',\r\n    GET_DEVICES_SUCCESS: 'GET_DEVICES_SUCCESS',\r\n    GET_DEVICES_FAILURE: 'GET_DEVICES_FAILURE',\r\n};","import { routingConstants } from '../_constants';\r\n\r\nexport const routingActions = {\r\n    setSpaceOccupier,\r\n};\r\n\r\nfunction setSpaceOccupier(occupier, selectedDevice) {\r\n    return dispatch => {\r\n        dispatch(success(occupier, selectedDevice));\r\n    };\r\n    function success(occupier, selectedDevice) { return { type: routingConstants.SET_SPACE_OCCUPIER, occupier, selectedDevice} }\r\n}","export const deviceServices = {\r\n    getDevices,\r\n};\r\n\r\nconst hostname = 'selftunnel.in:5000';\r\n\r\nfunction getDevices(accessToken) {\r\n    const requestOptions = {\r\n        method: \"GET\",\r\n        mode: 'cors',\r\n        headers: {\r\n            \"Authorization\": accessToken,\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n        },\r\n        body: null\r\n    };\r\n\r\n    return fetch(`http://${hostname}/device/get`, requestOptions)\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.json().then(json => {\r\n        if (!response.ok) {\r\n            if (response.status === 403) {\r\n                console.log(\"403\")\r\n                localStorage.removeItem('user')\r\n                window.location.reload(true);\r\n            }\r\n\r\n            const error = (json && json.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n        return json;\r\n    });\r\n}","export const authServices = {\r\n    loginEmail,\r\n    getAccessToken\r\n};\r\n\r\nconst hostname = 'selftunnel.in:5000';\r\n\r\nfunction loginEmail(email, password) {\r\n    const requestOptions = {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        cache: \"no-cache\",\r\n        credentials: \"omit\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\"\r\n        },\r\n        body: JSON.stringify({\r\n            \"email\": email,\r\n            \"password\": password\r\n        })\r\n    };\r\n\r\n    return fetch(`http://${hostname}/auth/login`, requestOptions)\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction getAccessToken(refreshToken) {\r\n    const requestOptions = {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        cache: \"no-cache\",\r\n        credentials: \"omit\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\"\r\n        },\r\n        body: JSON.stringify({\r\n            \"refreshToken\": refreshToken\r\n        })\r\n    };\r\n\r\n    return fetch(`http://${hostname}/auth/getAccessToken`, requestOptions)\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.json().then(json => {\r\n        if (!response.ok) {\r\n            if (response.status === 403) {\r\n                console.log(\"403\")\r\n                localStorage.removeItem('user')\r\n                window.location.reload(true);\r\n            }\r\n\r\n            const error = (json && json.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n        return json;\r\n    });\r\n}","import { deviceConstants } from '../_constants';\r\nimport { deviceServices, authServices } from '../_services';\r\n\r\nexport const deviceActions = {\r\n    getDevices\r\n};\r\n\r\nfunction getDevices() {\r\n    return dispatch => {\r\n        dispatch(request());\r\n        authServices.loginEmail(\"vishnu@astralpresence.in\", \"password\")\r\n            .then(\r\n                refreshToken => {\r\n                    refreshToken = refreshToken.message;\r\n                    var refreshToken1 = refreshToken.substring(2);\r\n                    var refToken = refreshToken1.substring(0, refreshToken1.length - 1);\r\n                    authServices.getAccessToken(refToken)\r\n                        .then(\r\n                            accessToken => {\r\n                                accessToken = accessToken.message;\r\n                                var accessToken1 = accessToken.substring(2);\r\n                                var accToken = accessToken1.substring(0, accessToken1.length - 1);\r\n                                deviceServices.getDevices(accToken)\r\n                                .then(\r\n                                    devices => { \r\n                                        dispatch(success(devices['message']));\r\n                                    },\r\n                                    error => {\r\n                                        dispatch(failure(error.toString()));\r\n                                    }\r\n                                ); \r\n                            }\r\n                        )\r\n                }\r\n            );\r\n\r\n    };\r\n\r\n    function request() { return { type: deviceConstants.GET_DEVICES_REQUEST } }\r\n    function success(devices) { return { type: deviceConstants.GET_DEVICES_SUCCESS, devices } }\r\n    function failure(error) { return { type: deviceConstants.GET_DEVICES_FAILURE, error } }\r\n}\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles, createMuiTheme } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { routingActions } from './_actions';\r\n\r\nconst styles = theme => ({\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        maxHeight: '50px',\r\n        marginTop: '19px',\r\n      },\r\n      root: {\r\n        border: '1px solid gray !important',\r\n        position: 'relative',\r\n        marginTop: '64px !important'\r\n      },\r\n      input:{\r\n          color: '#546463',\r\n      },\r\n      closeIcon: {\r\n        position: 'absolute',\r\n        top: '10px',\r\n        right: '10px',\r\n        color: '#546463'\r\n      }\r\n});\r\n\r\nconst CssTextField = withStyles({\r\n    root: {\r\n      '& label.Mui-focused': {\r\n        color: '#546463',\r\n      },\r\n      '& label': {\r\n        color: '#546463',\r\n      },\r\n      '& .MuiInput-underline:after': {\r\n        borderBottomColor: '#546463',\r\n      },\r\n      '& .MuiOutlinedInput-root': {\r\n        '& fieldset': {\r\n          borderColor: '#546463',\r\n        },\r\n        '&:hover fieldset': {\r\n          borderColor: '#546463',\r\n        },\r\n        '&.Mui-focused fieldset': {\r\n          borderColor: '#546463',\r\n        },\r\n      },\r\n    },\r\n  })(TextField);\r\n\r\nfunction createData(port, status) {\r\n    return {port, status};\r\n  }\r\n  \r\n  const rows = [\r\n    createData('8080', 'Good'),\r\n    createData('5000', 'Bad'),\r\n  ];\r\n\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            light: '#ffffff',\r\n            main: '#ffffff',\r\n            dark: '#ffffff',\r\n            contrastText: '#ffffff',\r\n          },\r\n    },\r\n  });\r\n\r\nclass DeviceDetails extends React.Component{\r\n\r\n  getDeviceTunnels = (row) => { \r\n    return row.name === this.props.selectedDevice;\r\n  }\r\n    render(){\r\n        var rootClasses = classNames({\r\n            'padding10': true,\r\n        });\r\n        \r\n        var headingClasses = classNames({\r\n            'width100': true,\r\n            'textCenter': true,\r\n        });\r\n\r\n        var inputClasses = classNames({\r\n            'flexDisplay': true,\r\n            'vAlignMiddle': true,\r\n            'marginBottom16': true,\r\n        });\r\n\r\n        const {classes} = this.props;\r\n        return(\r\n            <div className={classNames(classes.root, rootClasses)}>\r\n                <CloseIcon className={classes.closeIcon} onClick={this.props.closeDetails}/>\r\n                <h4 className={classNames(\"margin0\", headingClasses, \"colorSecondary\")}>\r\n                    {this.props.selectedDevice}\r\n                </h4>\r\n                <div className={inputClasses}>\r\n\r\n                        <CssTextField\r\n                            id=\"deviceName\"\r\n                            label=\"Name\"\r\n                            className={classes.textField}\r\n                            type=\"email\"\r\n                            name=\"deviceName\"\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                                className: classes.input\r\n                              }}\r\n                        />\r\n                    <Button variant=\"contained\" className={classes.button}>\r\n                        Save\r\n                    </Button>\r\n                </div>\r\n                <Table className={classes.table} border=\"2\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                        <TableCell><strong>Source Port</strong></TableCell>\r\n                        <TableCell align=\"right\"><strong>Destination Port</strong></TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {this.props.devices.find(this.getDeviceTunnels).tunnels.map(row => (\r\n                        <TableRow key={row.name}>\r\n                            <TableCell align=\"right\">{row.sourcePort}</TableCell>\r\n                            <TableCell align=\"right\">{row.destinationPort}</TableCell>\r\n                        </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDeviceDetails.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    theme: PropTypes.object.isRequired,\r\n  };\r\n\r\n  const mapStateToProps = (state) => {\r\n    const { selectedDevice  } = state.routing;\r\n    const { devices } = state.device;\r\n    return {\r\n        selectedDevice,\r\n        devices\r\n    };\r\n  }\r\n\r\n  const mapDispatchToProps = (dispatch) => ({\r\n    closeDetails: () => {\r\n        dispatch(routingActions.setSpaceOccupier('deviceList', null)) \r\n    },\r\n  })\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles, { withTheme: true })(DeviceDetails));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { connect } from 'react-redux';\r\nimport { routingActions } from './_actions';\r\nimport { deviceActions } from './_actions';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n    overflowX: 'auto',\r\n    background: 'rgba(0,0,0,0)'\r\n  },\r\n  table: {\r\n  },\r\n});\r\n\r\nfunction createData(name, calories, fat) {\r\n  return { name, calories, fat};\r\n}\r\n\r\nconst rows = [\r\n  createData('Device1', 'AHCBDJ1238','167.237.233.876'),\r\n  createData('Device2', 'DSHBFS2389','167.237.233.890'),\r\n];\r\n\r\nclass DeviceList extends React.Component {\r\n\r\n  componentDidMount(){\r\n    this.props.getDevices();\r\n  }\r\n\r\n  editDevice = (name) => {\r\n    console.log(name);\r\n    this.props.setOccupier('deviceDetails', name)\r\n  };\r\n\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <Paper className={classes.root}>\r\n        {this.props.receivedDevices ? \r\n        <Table className={classes.table} border=\"2\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell><strong>Name</strong></TableCell>\r\n              <TableCell align=\"right\"><strong>Device ID</strong></TableCell>\r\n              <TableCell align=\"right\"><strong>Tunnels</strong></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {this.props.devices.map(row => (\r\n              <TableRow key={row.name}>\r\n                <TableCell component=\"th\" scope=\"row\" className=\"vAlignMiddle\">\r\n                  {row.name} &nbsp;\r\n                  <EditIcon className=\"deviceEditIconContainer\" onClick={() => this.editDevice(row.name)}/>\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.deviceID}</TableCell>\r\n                <TableCell align=\"right\">{row.tunnels.length}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        : null }\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nDeviceList.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { accessToken } = state.auth;\r\n  const { devices, receivedDevices } = state.device;\r\n  return {\r\n    accessToken,\r\n    devices,\r\n    receivedDevices,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setOccupier: (occupier, name) => {\r\n      dispatch(routingActions.setSpaceOccupier(occupier, name)) \r\n  },\r\n  getDevices: (accessToken) => {\r\n    dispatch(deviceActions.getDevices(accessToken))\r\n  },\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles, { withTheme: true })(DeviceList));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DeviceDetails from './DeviceDetails';\r\nimport DeviceList from './DeviceList';\r\n\r\nclass SpaceOccupier extends React.Component{\r\n    render() {\r\n        if(this.props.spaceOccupier === 'deviceList'){\r\n            return(\r\n                <DeviceList />\r\n            );\r\n        }\r\n        else if(this.props.spaceOccupier === 'deviceDetails'){\r\n            return(\r\n                <DeviceDetails />\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const { spaceOccupier  } = state.routing\r\n    return {\r\n      spaceOccupier,\r\n    };\r\n  }\r\n\r\nexport default connect(mapStateToProps, null)(SpaceOccupier);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport classNames from 'classnames';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport SpaceOccupier from './SpaceOccupier';\r\nimport {connect} from 'react-redux';\r\nimport { routingActions } from './_actions';\r\nimport { Divider } from '@material-ui/core';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  appBar: {\r\n    marginLeft: drawerWidth,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n    },\r\n    background: '#29A6A2',\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nfunction ResponsiveDrawer(props) {\r\n  const { container } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const handleDrawerToggle1 = () => {\r\n    props.closeDetails();\r\n    if(mobileOpen === true)\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const drawer = (\r\n    <div className=\"maxW100\">\r\n      <div className={classNames(classes.toolbar, \"borderBottom\", \"padding2\", \"maxH64\", \"textCenter\", \"logoDiv\")}>\r\n        <img src=\"images/selftunnel-darkbg@2x.png\" alt=\"Self Tunnel\" className=\"maxH60\"/>\r\n        <p className={classNames(\"margin0\", \"whiteText\", \"initialFont\", \"emailDisplay\")}>vishnu@gmail.com</p>\r\n      </div>\r\n      <Divider/>\r\n      <List>\r\n          <div>\r\n            <ListItem button key=\"Devices\" className={classNames( \"borderBottom\", \"colorSecondary\")} onClick={handleDrawerToggle1}>\r\n              <AppsIcon /> &nbsp; &nbsp;\r\n              <ListItemText primary=\"Devices\" />\r\n            </ListItem>\r\n          </div>\r\n          <Divider/>\r\n          <div>\r\n            <ListItem button key=\"Accounts\" className={classNames( \"borderBottom\", \"colorSecondary\")}>\r\n              <GroupIcon /> &nbsp; &nbsp;\r\n              <ListItemText primary=\"Accounts\" />\r\n            </ListItem>\r\n          </div>\r\n          <Divider/>\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap>\r\n            \r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n        <Hidden smUp implementation=\"css\">\r\n          <Drawer\r\n            container={container}\r\n            variant=\"temporary\"\r\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n            open={mobileOpen}\r\n            onClose={handleDrawerToggle}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true, // Better open performance on mobile.\r\n            }}\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden xsDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            variant=\"permanent\"\r\n            open\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n      <main className={classes.content}>\r\n            <SpaceOccupier />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nResponsiveDrawer.propTypes = {\r\n  /**\r\n   * Injected by the documentation to work in an iframe.\r\n   * You won't need it on your project.\r\n   */\r\n  container: PropTypes.instanceOf(typeof Element === 'undefined' ? Object : Element),\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { email  } = state.auth\r\n  return {\r\n      email,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeDetails: () => {\r\n      dispatch(routingActions.setSpaceOccupier('deviceList', null)) \r\n  },\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(ResponsiveDrawer);","import React from 'react';\nimport './App.css';\nimport Drawer from './Drawer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Drawer />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();","import { routingConstants } from '../_constants';\r\n\r\nconst initialState = {\r\n  spaceOccupier: 'deviceList',\r\n  selectedDevice: null,\r\n}\r\n\r\nexport function routing(state, action) {\r\n  if (typeof state === 'undefined') {\r\n    return initialState\r\n  }\r\n  switch (action.type) {\r\n    case routingConstants.SET_SPACE_OCCUPIER:\r\n      return {\r\n        ...state,\r\n        spaceOccupier: action.occupier,\r\n        selectedDevice: action.selectedDevice\r\n      };\r\n  \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n","import { routingConstants } from '../_constants';\r\n\r\nconst initialState = {\r\n    accessToken: \"b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjMyNTgzMDEsImVtYWlsIjoidmlzaG51QGFzdHJhbHByZXNlbmNlLmluIn0.2P-uo-rcgO1prkPrvnbromZW11DCgtcwRPJhGOi47fQ'\",\r\n    email: \"vishnu@gmail.com\"\r\n}\r\n\r\nexport function auth(state, action) {\r\n  if (typeof state === 'undefined') {\r\n    return initialState\r\n  }\r\n  switch (action.type) {\r\n    case routingConstants.NONE:\r\n      return {\r\n        ...state,\r\n        spaceOccupier: action.occupier,\r\n        selectedDevice: action.selectedDevice\r\n      };\r\n  \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n","import { deviceConstants } from '../_constants';\r\n\r\nconst initialState = {\r\n    receivedDevices: false,\r\n    devices: []\r\n}\r\n\r\nexport function device(state, action) {\r\n  if (typeof state === 'undefined') {\r\n    return initialState\r\n  }\r\n  switch (action.type) {\r\n    case deviceConstants.GET_DEVICES_REQUEST:\r\n      return {\r\n    };\r\n    \r\n    case deviceConstants.GET_DEVICES_SUCCESS:\r\n        return {\r\n            devices: action.devices,\r\n            receivedDevices: true,\r\n    };\r\n\r\n    case deviceConstants.GET_DEVICES_REQUEST:\r\n        return {\r\n    };\r\n  \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { routing } from './routing.reducers.js';\r\nimport { auth } from './auth.reducers.js';\r\nimport { device } from './device.reducers.js';\r\n\r\nconst rootReducer = combineReducers({\r\n  routing,\r\n  auth,\r\n  device,\r\n});\r\n\r\nexport default rootReducer;","import {history} from './history'\r\nconst REFRESH_REQUEST = 'USERS_REFRESH_REQUEST'\r\nconst REFRESH_SUCCESS = 'USERS_REFRESH_SUCCESS'\r\nconst REFRESH_FAILURE = 'USERS_REFRESH_FAILURE'\r\nconst INVALID_ACCESS_TOKEN = 'INVALID_ACCESS_TOKEN'\r\n\r\nconst requestOptions = {\r\n    method: \"POST\",\r\n    mode: \"cors\",\r\n    cache: \"no-cache\",\r\n    credentials: \"omit\",\r\n    headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\"\r\n    },\r\n    body: JSON.stringify({\r\n        \"grant_type\": \"refresh_token\",\r\n        \"refresh_token\": localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')).refresh_token : null,\r\n        \"client_id\": \"rTZ61c51XXJriPBSoGReIeZ7W7MjWy\"\r\n    })\r\n};\r\n\r\nconst checkTokenExpirationMiddleware = store => next => action => {\r\n    if(action.type === INVALID_ACCESS_TOKEN) {\r\n        store.dispatch(request())\r\n        fetch(`https://care-api-staging.appspot.com/oauth2/tokens`, requestOptions)\r\n            .then(response => response.json())\r\n            .then(user => {\r\n                if (user.access_token) {\r\n                    var userObj = JSON.parse(localStorage.getItem('user'))\r\n                    user.allCommunities = userObj.allCommunities\r\n                    localStorage.setItem('user', JSON.stringify(user));\r\n                    store.dispatch(success(user))\r\n                }\r\n            },\r\n            error => {\r\n                store.dispatch(failure(error.toString()));\r\n            })\r\n    } else if(action.type === (REFRESH_REQUEST || REFRESH_SUCCESS || REFRESH_FAILURE)) {\r\n        next(action)\r\n    } else {\r\n        const token_expiration =\r\n        JSON.parse(localStorage.getItem(\"user\")) &&\r\n        JSON.parse(localStorage.getItem(\"user\"))[\"access_expiration\"];\r\n        const refresh_expiration = \r\n        JSON.parse(localStorage.getItem(\"user\")) &&\r\n        JSON.parse(localStorage.getItem(\"user\"))[\"refresh_expiration\"];\r\n        const a = new Date(token_expiration + 'Z')   \r\n        const r = new Date(refresh_expiration + 'Z')\r\n        const now = new Date()\r\n        if (a < now && now < r) {\r\n            store.dispatch({ type: INVALID_ACCESS_TOKEN })\r\n        } else if(r < now) {\r\n            localStorage.removeItem('user')\r\n        } else {\r\n            return next(action)\r\n        }\r\n    }\r\n};\r\n\r\nfunction request() { return { type: REFRESH_REQUEST } }\r\nfunction success(user) { return { type: REFRESH_SUCCESS, user } }\r\nfunction failure(error) { return { type: REFRESH_FAILURE, error } }\r\n\r\nexport { checkTokenExpirationMiddleware as TokenMiddleware }","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport rootReducer from '../_reducers';\r\nimport { TokenMiddleware } from './tokenMiddleware';\r\n\r\nconst loggerMiddleware = createLogger();\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(\r\n        thunkMiddleware,\r\n        loggerMiddleware,\r\n        TokenMiddleware\r\n    )\r\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './styles.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { store } from './_helpers';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'light',\n      primary: {\n        main: \"#000000\"\n      },\n      secondary: {\n        main: \"#485362\",\n      }\n    }\n  });\n\nReactDOM.render(    \n    <MuiThemeProvider theme={theme}>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </MuiThemeProvider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}